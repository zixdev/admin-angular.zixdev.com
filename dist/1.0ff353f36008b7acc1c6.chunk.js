webpackJsonp([1,4],{1001:function(t,e){t.exports='<div class="full-bg-img">\n    <div class="container">\n        <ul class="list-unstyled">\n            <li>\n                <img class="img-responsive center-block" src="/assets/admin/images/logo.png" alt="Zix Development">\n            </li>\n            <li>\n                <div class="middle-box text-center loginscreen ">\n                    <div>\n\n                        <p>Login in. To see the admin panel.</p>\n                        <div *ngIf="form.errors && form.errors.message" class="alert alert-danger">\n                            {{form.errors.message}}\n                        </div>\n                        <form class="m-t" (ngSubmit)="login()" #loginForm="ngForm">\n                            <div class="input-group m-b">\n                                <span class="input-group-addon">\n                                    <i class="fa fa-user" aria-hidden="true"></i>\n                                </span>\n                                <input placeholder="Email" class="form-control" type="email"\n                                       [(ngModel)]="user.email"\n                                       name="email"\n                                       #email="ngModel"\n                                       class="form-control"\n                                       required\n                                >\n                            </div>\n\n                            <div class="input-group m-b">\n                                <span class="input-group-addon">\n                                    <i class="fa fa-lock" aria-hidden="true"></i>\n                                </span>\n                                <input placeholder="Password" class="form-control" type="password"\n                                       [(ngModel)]="user.password"\n                                       name="password"\n                                       #password="ngModel"\n                                       class="form-control"\n                                       minlength="6"\n                                       maxlength="255"\n                                       required\n                                >\n                            </div>\n\n                            <button [disabled]="form.submitting" type="submit" class="btn btn-primary block full-width m-b">\n                                <i *ngIf="form.submitting" class="fa fa-spinner fa-pulse"></i>\n                                Login\n                            </button>\n\n                        </form>\n                        <p class="m-t"> <small>Zix web app Â© 2016-2017</small> </p>\n                    </div>\n                </div>\n            </li>\n        </ul>\n\n\n\n    </div>\n</div>\n\n'},986:function(t,e,n){"use strict";var o=n(1),r=n(76),i=n(119),a=n(258),s=n(171),c=n(988),l=n(989),u=n(416),f=n(170);n.d(e,"AuthModule",function(){return g});var d=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},p=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},m=[{path:"login",component:c.a,pathMatch:"full",canActivate:[u.a]},{path:"logout",component:l.a,pathMatch:"full",canActivate:[f.a]}],g=function(){function t(){}return t=d([n.i(o.NgModule)({declarations:[c.a,l.a],imports:[i.g,a.a,s.c,r.b.forChild(m)],providers:[]}),p("design:paramtypes",[])],t)}()},988:function(t,e,n){"use strict";var o=n(1),r=n(76),i=n(416),a=n(172),s=n(170);n.d(e,"a",function(){return u});var c=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},l=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},u=function(){function t(t,e,n,o){this.guestService=t,this.authService=e,this.appState=n,this.router=o,this.user={},this.form={},$("body").addClass("zix-background")}return t.prototype.login=function(){var t=this;this.form.submitting=!0,this.guestService.login(this.user).subscribe(function(e){return e.permissions.includes("full_access")||e.permissions.includes("view_admin")?(localStorage.setItem("token",e.token),location.reload()):(t.authService.logout(),t.form.errors={message:"You don't have access to view the admin panel"},t.form.submitting=!1)},function(e){t.form.errors=e.json(),t.form.submitting=!1})},t=c([n.i(o.Component)({selector:"app-login",template:n(1001),styles:[n(995)]}),l("design:paramtypes",["function"==typeof(e="undefined"!=typeof i.a&&i.a)&&e||Object,"function"==typeof(u="undefined"!=typeof s.a&&s.a)&&u||Object,"function"==typeof(f="undefined"!=typeof a.a&&a.a)&&f||Object,"function"==typeof(d="undefined"!=typeof r.a&&r.a)&&d||Object])],t);var e,u,f,d}()},989:function(t,e,n){"use strict";var o=n(1),r=n(76),i=n(170);n.d(e,"a",function(){return c});var a=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},s=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},c=function(){function t(t,e){this.router=t,this.authService=e}return t.prototype.ngOnInit=function(){var t=this;this.authService.logout().subscribe(function(){return t.logout()},function(){return t.logout()})},t.prototype.logout=function(){return localStorage.removeItem("token"),location.reload()},t=a([n.i(o.Component)({selector:"app-logout",template:"<h1>Login Out</h1> "}),s("design:paramtypes",["function"==typeof(e="undefined"!=typeof r.a&&r.a)&&e||Object,"function"==typeof(c="undefined"!=typeof i.a&&i.a)&&c||Object])],t);var e,c}()},995:function(t,e){t.exports=":host {\n  color: #FFFFFF;\n  font-size: 16px; }\n  :host .form-control, :host .input-group-addon {\n    background-color: transparent; }\n    :host .form-control:focus, :host .input-group-addon:focus {\n      border-color: #a21d21 !important; }\n  :host .container {\n    position: relative;\n    height: 100%;\n    display: flex;\n    justify-content: center;\n    align-items: center; }\n  :host .btn-primary {\n    background-color: #a21d21;\n    border-color: #a21d21; }\n    :host .btn-primary:hover, :host .btn-primary:focus, :host .btn-primary:active {\n      background-color: #db2c31;\n      border-color: #db2c31; }\n  :host .alert-danger {\n    background-color: transparent;\n    border-color: #a21d21;\n    border-radius: 0;\n    color: #FFFFFF; }\n"}});